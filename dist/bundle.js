!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["dot-audio"]=t():e["dot-audio"]=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.r(t),e.d(t,{AutoPan:()=>Sn,BufferSource:()=>uo,ChannelMerger:()=>Fe,ChannelSplitter:()=>Be,Chorus:()=>Bn,Compressor:()=>Ve,ConstantSource:()=>b,Convolver:()=>ot,Delay:()=>mt,Distortion:()=>Hn,EQ2:()=>cr,Envelope:()=>S,FMSynth:()=>pc,FeedbackDelay:()=>gr,Filter:()=>z,FilterEnvelope:()=>ne,Flanger:()=>Rr,Gain:()=>ye,GainEnvelope:()=>De,Keyboard:()=>vu,LFO:()=>bn,Limiter:()=>xr,MonoSynth:()=>Cc,NoiseGenerator:()=>vo,Note:()=>Pu,Osc:()=>Zo,Oscillator:()=>Ht,PingPongDelay:()=>$r,PolySynth:()=>zc,Reverb:()=>Go,SignalGenerator:()=>yu,SimpleFMSynth:()=>nu,StereoPanner:()=>_t,Synth:()=>jc,Tremolo:()=>Qo,WaveShaper:()=>Mt,chain:()=>Jt,getNoteFrequency:()=>Yt,parseNote:()=>Zt});const r=function e(t){var r=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getName=function(){return r.name},this.getParams=function(){return r.params},this.getParam=function(e){return r.params[e]},this.getInputs=function(){return r.inputs},this.getOutputs=function(){return r.outputs},this.connect=function(e,t,n){return r._connect(e,t,n)},this.disconnect=function(e,t,n){return r._disconnect(e,t,n)},this._connect=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(t))t.forEach((function(e){return r.connect(e)}));else if(t instanceof e){if(!t.getInputs())return void console.error("Cannot connect to a node with no inputs");var c=t._getInputNodes();c.forEach((function(e){r.getOutputs().forEach((function(t){return t.connect(e,n,o)}))}))}else t instanceof AudioNode?r.getOutputs().forEach((function(e){return e.connect(t,n,o)})):t instanceof AudioParam?r.getOutputs().forEach((function(e){return e.connect(t)})):console.error("Invalid destination type");return r},this._disconnect=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(t))t.forEach((function(e){return r.disconnect(e)}));else if(t instanceof e){if(!t.getInputs())return void console.error("Cannot disconnect from destination provided");var c=t._getInputNodes();c.forEach((function(e){r.getOutputs().forEach((function(t){return t.disconnect(e,n,o)}))}))}else t instanceof AudioNode?r.getOutputs().forEach((function(e){return e.disconnect(t,n,o)})):r.getOutputs().forEach((function(e){return e.disconnect(t)}));return r},this._getInputNodes=function(){return r.getInputs().reduce((function(t,r){return r instanceof e?t.push.apply(t,function(e){if(Array.isArray(e))return n(e)}(o=r._getInputNodes())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t.push(r),t;var o}),[])},this._update=function(e,t){return e.setValueAtTime(t,r.AC.currentTime)},this._timeUpdate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n?e.setTargetAtTime(t,r.AC.currentTime,n):e.setValueAtTime(t,r.AC.currentTime)},this._linearFadeUpdate=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r._timeUpdate(e,1-n,o),r._timeUpdate(t,n,o)},this._equalPowerFadeUpdate=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r._timeUpdate(e,Math.cos(.5*n*Math.PI),o),r._timeUpdate(t,Math.cos(.5*(1-n)*Math.PI),o)},this._dryWetUpdate=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n<.5?(r._timeUpdate(e,1,o),r._timeUpdate(t,2*n,o)):(r._timeUpdate(e,1-2*(n-.5),o),r._timeUpdate(t,1,o))},this.AC=t,this.name="DotAudioNode",this};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y={offset:1,start:!1};const b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return s(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,o),(t=r.call(this,e)).start=function(){return t.source.start()},t.stop=function(){return t.source.stop()},t.getOffset=function(){return t.params.offset},t.setOffset=function(e,n){return t._timeUpdate(t.params.offset,e,n)},t.name="ConstantSource",t.source=t.AC.createConstantSource(),t.params={offset:t.source.offset},t.inputs=null,t.outputs=[t.source];var c=u(u({},y),n);return t.setOffset(c.offset),c.start&&t.start(),s(t,l(t))}return o}(r);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D={attack:0,decay:0,sustain:1,release:0,modifier:1};const S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=j(t);if(n){var o=j(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return P(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(this,o),(t=r.call(this,e)).getAttack=function(){return t.attack},t.getDecay=function(){return t.decay},t.getSustain=function(){return t.sustain},t.getRelease=function(){return t.release},t.getModifier=function(){return t.modifier},t.setAttack=function(e){return t.attack=e},t.setDecay=function(e){return t.decay=e},t.setSustain=function(e){return t.sustain=e},t.setRelease=function(e){return t.release=e},t.setModifier=function(e){return t.modifier=e},t.connect=function(e){!e instanceof AudioParam?console.error("Envelopes must be connected to an AudioParam"):t._connect(e)},t.triggerAttack=function(){t._clearTimeouts();var e=t.sustain*t.modifier;if(t.attack){t.source.setOffset(0),t.source.setOffset(t.modifier,t.attack);var n=setTimeout((function(){t.source.setOffset(e,t.decay)}),1e3*t.attack);t.timeoutIds.push(n)}else t.decay?(t.source.setOffset(t.modifier),t.source.setOffset(e,t.decay)):t.sustain&&t.source.setOffset(e)},t.triggerRelease=function(){t._clearTimeouts(),t.source.setOffset(0,t.release)},t.triggerStop=function(){t._clearTimeouts(),t.source.setOffset(0)},t._clearTimeouts=function(){return t.timeoutIds.forEach((function(e){return clearTimeout(e)}))},t.name="Envelope",t.source=new b(t.AC,{start:!0}),t.timeoutIds=[],t.attack=0,t.decay=0,t.sustain=1,t.release=0,t.modifier=1,t.params={},t.inputs=null,t.outputs=[t.source];var c=O(O({},D),n);return t.setAttack(c.attack),t.setDecay(c.decay),t.setSustain(c.sustain),t.setRelease(c.release),t.setModifier(c.modifier),t.source.setOffset(0),P(t,w(t))}return o}(r);var _=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],R=["none","2x","4x"],A=["white","pink","brown"],E=["sine","triangle","square","sawtooth"],F=["lowpass","highpass","bandpass","allpass","notch","peaking","lowshelf","highshelf"],G=/^(?![ebEB]#)([a-gA-G]#?)([0-9])$/,q={12:"C",13:"C#",14:"D",15:"D#",16:"E",17:"F",18:"F#",19:"G",20:"G#",21:"A",22:"A#",23:"B"},T={C:261.63,"C#":277.18,D:293.66,"D#":311.13,E:329.63,F:349.23,"F#":369.99,G:392,"G#":415.3,A:440,"A#":466.16,B:493.88},C={a:12,w:13,s:14,e:15,d:16,f:17,t:18,g:19,y:20,h:21,u:22,j:23,k:24,o:25,l:26,p:27,";":28};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W={frequency:11e3,q:0,detune:0,gain:0,type:"lowpass"};const z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=I(t);if(n){var o=I(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return U(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L(this,o),(t=r.call(this,e)).getFrequency=function(){return t.params.frequency.value},t.getQ=function(){return t.params.Q.value},t.getGain=function(){return t.params.gain.value},t.getDetune=function(){return t.params.detune.value},t.getType=function(){return t.filter.type},t.setFrequency=function(e,n){return t._timeUpdate(t.params.frequency,e,n)},t.setQ=function(e,n){return t._timeUpdate(t.params.frequency,e,n)},t.setGain=function(e,n){return t._timeUpdate(t.params.gain,e,n)},t.setDetune=function(e,n){return t._timeUpdate(t.params.detune,e,n)},t.setType=function(e){F.includes(e)&&(t.filter.type=e)},t.name="Filter",t.filter=t.AC.createBiquadFilter(),t.params={frequency:t.filter.frequency,q:t.filter.q,gain:t.filter.gain,detune:t.filter.detune},t.inputs=[t.filter],t.outputs=[t.filter];var c=M(M({},W),n);return t.setFrequency(c.frequency),t.setQ(c.q),t.setGain(c.gain),t.setDetune(c.detune),t.setType(c.type),U(t,Q(t))}return o}(r);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te={frequency:2e3,q:0,detune:0,gain:0,type:"lowpass"};const ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ee(t);if(n){var o=ee(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Y(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};J(this,o),(t=r.call(this,e,n)).getFrequency=function(){return t.params.frequency.value},t.getQ=function(){return t.params.q.value},t.getDetune=function(){return t.params.detune.value},t.getGain=function(){return t.params.gain.value},t.getType=function(){return t.filter.getType()},t.setFrequency=function(e,n){return t.filter.setFrequency(e,n)},t.setQ=function(e,n){return t.filter.setQ(e,n)},t.setDetune=function(e,n){return t.filter.setDetune(e,n)},t.setGain=function(e,n){return t.filter.setGain(e,n)},t.setType=function(e){return t.filter.setType(e)},t.name="FilterEnvelope",t.filter=new z(t.AC),t.params={frequency:t.filter.getParam("frequency"),detune:t.filter.getParam("detune"),q:t.filter.getParam("q"),gain:t.filter.getParam("gain")},t.inputs=[t.filter],t.outputs=[t.filter];var c=H(H({},te),n);return t.setFrequency(c.frequency),t.setQ(c.q),t.setDetune(c.detune),t.setGain(c.gain),t.setType(c.type),t.source.connect(t.filter.getParam("frequency")),Y(t,Z(t))}return o}(S);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?se(e):t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe={gain:1};const ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=le(t);if(n){var o=le(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return fe(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ie(this,o),(t=r.call(this,e)).getGain=function(){return t.params.gain.value},t.setGain=function(e,n){return t._timeUpdate(t.params.gain,e,n)},t.name="Gain",t.gain=t.AC.createGain(),t.params={gain:t.gain.gain},t.inputs=[t.gain],t.outputs=[t.gain];var c=ce(ce({},pe),n);return t.setGain(c.gain),fe(t,se(t))}return o}(r);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?Pe(e):t}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je={gain:0};const De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var o=we(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return de(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};he(this,o),(t=r.call(this,e,n)).getGain=function(){return t.params.gain.value},t.setGain=function(e,n){return t.gain.setGain(e,n)},t.name="GainEnvelope",t.gain=new ye(t.AC),t.params={gain:t.gain.getParam("gain")},t.inputs=[t.gain],t.outputs=[t.gain];var c=ge(ge({},je),n);return t.setGain(c.gain),t.source.connect(t.gain.getParam("gain")),de(t,Pe(t))}return o}(S);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?Ae(e):t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Ee(t);if(n){var o=Ee(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Re(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="ChannelMerger",t.channelMerger=t.AC.createChannelMerger(2),t.params={},t.inputs=[t.channelMerger],t.outputs=[t.channelMerger],Re(t,Ae(t))}return o}(r);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?Ce(e):t}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ke(t);if(n){var o=ke(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Te(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="ChannelSplitter",t.channelSplitter=t.AC.createChannelSplitter(2),t.params={},t.inputs=[t.channelSplitter],t.outputs=[t.channelSplitter],Te(t,Ce(t))}return o}(r);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?We(e):t}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ke={threshold:-24,ratio:12,knee:30,attack:.003,release:.25};const Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ze(t);if(n){var o=ze(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Ie(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ue(this,o),(t=r.call(this,e)).getThreshold=function(){return t.params.threshold.value},t.getRatio=function(){return t.params.ratio.value},t.getKnee=function(){return t.params.knee.value},t.getAttack=function(){return t.params.attack.value},t.getRelease=function(){return t.params.release.value},t.getReduction=function(){return t.compressor.reduction},t.setThreshold=function(e,n){return t._timeUpdate(t.params.threshold,e,n)},t.setRatio=function(e,n){return t._timeUpdate(t.params.ratio,e,n)},t.setKnee=function(e,n){return t._timeUpdate(t.params.knee,e,n)},t.setAttack=function(e,n){return t._timeUpdate(t.params.attack,e,n)},t.setRelease=function(e,n){return t._timeUpdate(t.params.release,e,n)},t.name="Compressor",t.compressor=t.AC.createDynamicsCompressor(),t.params={threshold:t.compressor.threshold,ratio:t.compressor.ratio,knee:t.compressor.knee,attack:t.compressor.attack,release:t.compressor.release},t.inputs=[t.compressor],t.outputs=[t.compressor];var c=Le(Le({},Ke),n);return t.setThreshold(c.threshold),t.setRatio(c.ratio),t.setKnee(c.knee),t.setAttack(c.attack),t.setRelease(c.release),Ie(t,We(t))}return o}(r);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?tt(e):t}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rt={buffer:null,normalize:!1};const ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=nt(t);if(n){var o=nt(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return et(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye(this,o),(t=r.call(this,e)).getBuffer=function(){return t.convolver.buffer},t.getNormalize=function(){return t.convolver.normalize},t.setBuffer=function(e){return t.convolver.buffer=e},t.setNormalize=function(e){return t.convolver.normalize=e},t.name="Convolver",t.convolver=t.AC.createConvolver(),t.params={},t.inputs=[t.convolver],t.outputs=[t.convolver];var c=Je(Je({},rt),n);return t.setBuffer(c.buffer),t.setNormalize(c.normalize),et(t,tt(t))}return o}(r);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lt(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?pt(e):t}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bt={delayTime:0};const mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=yt(t);if(n){var o=yt(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return lt(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ft(this,o),(t=r.call(this,e)).getDelayTime=function(){return t.params.delayTime.value},t.setDelayTime=function(e,n){return t._timeUpdate(t.params.delayTime,e,n)},t.name="Delay",t.delay=t.AC.createDelay(),t.params={delayTime:t.delay.delayTime},t.inputs=[t.delay],t.outputs=[t.delay];var c=it(it({},bt),n);return t.setDelayTime(c.delayTime),lt(t,pt(t))}return o}(r);function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?jt(e):t}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var St={pan:0};const _t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Dt(t);if(n){var o=Dt(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return wt(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dt(this,o),(t=r.call(this,e)).getPan=function(){return t.params.pan.value},t.setPan=function(e,n){return t._timeUpdate(t.params.pan,e,n)},t.name="StereoPanner",t.panner=t.AC.createStereoPanner(),t.params={pan:t.panner.pan},t.inputs=[t.panner],t.outputs=[t.panner];var c=ht(ht({},St),n);return t.setPan(c.pan),wt(t,jt(t))}return o}(r);function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){Ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?Ct(e):t}function Ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bt={curve:null,oversample:"none"};const Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=kt(t);if(n){var o=kt(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Tt(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Gt(this,o),(t=r.call(this,e)).getCurve=function(){return t.waveShaper.curve},t.getOversample=function(){return t.waveShaper.oversample},t.setCurve=function(e){return t.waveShaper.curve=e},t.setOversample=function(e){R.includes(e)&&(t.waveShaper.oversample=e)},t.name="WaveShaper",t.waveShaper=t.AC.createWaveShaper(),t.params={},t.inputs=[t.waveShaper],t.outputs=[t.waveShaper];var c=Et(Et({},Bt),n);return t.setCurve(c.curve),t.setOversample(c.oversample),Tt(t,Ct(t))}return o}(r);function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?zt(e):t}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vt={type:"sine",frequency:440,detune:0,start:!1};const Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Kt(t);if(n){var o=Kt(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Wt(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qt(this,o),(t=r.call(this,e)).start=function(){return t.osc.start()},t.stop=function(){return t.osc.stop()},t.getFrequency=function(){return t.params.frequency.value},t.getDetune=function(){return t.params.detune.value},t.getWaveform=function(){return t.getType()},t.getType=function(){return t.osc.type},t.setFrequency=function(e,n){return t._timeUpdate(t.params.frequency,e,n)},t.setDetune=function(e,n){return t._timeUpdate(t.params.detune,e,n)},t.setWaveform=function(e){return t.setType(e)},t.setType=function(e){E.includes(e)&&(t.osc.type=e)},t.name="Oscillator",t.osc=t.AC.createOscillator(),t.params={frequency:t.osc.frequency,detune:t.osc.detune},t.inputs=null,t.outputs=[t.osc];var c=Nt(Nt({},Vt),n);return t.setType(c.type),t.setFrequency(c.frequency),t.setDetune(c.detune),c.start&&t.start(),Wt(t,zt(t))}return o}(r);var $t=function(e,t,n){return Math.min(n,Math.max(t,e))},Jt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!(t.length<2))for(var r=0;r<t.length-1;r++)t[r].connect(t[r+1])},Xt=function(e){var t=e.match(G);if(t)return{note:t[1].toUpperCase(),octave:parseInt(t[2])}},Yt=function(e){var t=Xt(e);return t?T[t.note]*Math.pow(2,t.octave-4):null},Zt=function(e){var t=Xt(e);if(t)return{fullNote:"".concat(t.note).concat(t.octave),note:t.note,octave:t.octave,frequency:Yt(e),midi:nn(e)}},en=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=C[e]+12*t;return Zt(tn(n))},tn=function(e){for(var t=$t(e,12,120),n=0;t>23;)t-=12,n++;return"".concat(q[t]).concat(n)},nn=function(e){var t=Xt(e);return t?_.indexOf(t.note)+12*(t.octave+1):null};function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?ln(e):t}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yn={rate:1,depth:1,detune:0,type:"sine",start:!1};const bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=pn(t);if(n){var o=pn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return sn(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};an(this,o),(t=r.call(this,e)).start=function(){return t.osc.start()},t.stop=function(){return t.osc.stop()},t.getRate=function(){return t.params.rate.value},t.getDetune=function(){return t.params.detune.value},t.getDepth=function(){return t.params.depth.value},t.getType=function(){return t.osc.getType()},t.setRate=function(e,n){return t.osc.setFrequency($t(e,0,100),n)},t.setDetune=function(e,n){return t.osc.setDetune(e,n)},t.setDepth=function(e,n){return t.depth.setGain(e,n)},t.setType=function(e){return t.osc.setType(e)},t.name="LFO",t.depth=new ye(t.AC),t.osc=new Ht(t.AC),t.params={rate:t.osc.getParam("frequency"),detune:t.osc.getParam("detune"),depth:t.depth.getParam("gain")},t.inputs=null,t.outputs=[t.depth];var c=cn(cn({},yn),n);return t.setRate(c.rate),t.setDepth(c.depth),t.setDetune(c.detune),t.setType(c.type),t.osc.connect(t.depth),c.start&&t.start(),sn(t,ln(t))}return o}(r);function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pn(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?wn(e):t}function wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dn={depth:1,rate:1,type:"sine"};const Sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=jn(t);if(n){var o=jn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Pn(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};vn(this,o),(t=r.call(this,e)).getDepth=function(){return t.LFO.getDepth()},t.getRate=function(){return t.LFO.getRate()},t.getType=function(){return t.LFO.getType()},t.setDepth=function(e,n){return t.LFO.setDepth(e,n)},t.setRate=function(e,n){return t.LFO.setRate(e,n)},t.setType=function(e){return t.LFO.setType(e)},t.name="AutoPan",t.LFO=new bn(e,{start:!0}),t.panner=new _t(e),t.params={rate:t.LFO.getParam("rate"),depth:t.LFO.getParam("depth")},t.inputs=[t.panner],t.outputs=[t.panner];var c=On(On({},Dn),n);return t.setRate(c.rate),t.setDepth(c.depth),t.setType(c.type),t.LFO.connect(t.panner.getParam("pan")),Pn(t,wn(t))}return o}(r);function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){En(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qn(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?Tn(e):t}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kn={amount:0,delayTime:.04,depth:.005,rate:.25,feedback:.4};const Bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Cn(t);if(n){var o=Cn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return qn(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Fn(this,o),(t=r.call(this,e)).getAmount=function(){return t.wetGain.getGain()},t.getDelayTime=function(){return t.leftDelay.getDelayTime()},t.getFeedback=function(){return t.params.feedback.value},t.getRate=function(){return t.leftLFO.getRate()},t.getDepth=function(){return t.leftLFO.getDepth()},t.setAmount=function(e,n){t._linearFadeUpdate(t.dryGain.getParam("gain"),t.wetGain.getParam("gain"),e,n)},t.setFeedback=function(e,n){return t.feedback.setGain(e,n)},t.setRate=function(e,n){t.leftLFO.setRate(e,n),t.rightLFO.setRate(2*e,n)},t.setDepth=function(e,n){t.leftLFO.setDepth(e,n),t.rightLFO.setDepth(e,n)},t.setDelayTime=function(e,n){t.leftDelay.setDelayTime(e,n),t.rightDelay.setDelayTime(e,n)},t.name="Chorus",t.dryGain=new ye(t.AC),t.leftLFO=new bn(t.AC,{start:!0}),t.rightLFO=new bn(t.AC,{start:!0}),t.chorusGain=new ye(t.AC,{gain:.6}),t.leftDelay=new mt(t.AC),t.rightDelay=new mt(t.AC),t.channelMerger=new Fe(t.AC),t.feedback=new ye(t.AC),t.wetGain=new ye(t.AC),t.params={delayTime:[t.leftDelay.getParam("delayTime"),t.rightDelay.getParam("delayTime")],feedback:t.feedback.getParam("gain"),rate:[t.leftLFO.getParam("rate"),t.rightLFO.getParam("rate")],depth:[t.leftLFO.getParam("depth"),t.rightLFO.getParam("depth")]},t.inputs=[t.dryGain,t.chorusGain],t.outputs=[t.dryGain,t.wetGain];var c=An(An({},kn),n);return t.setAmount(c.amount),t.setDelayTime(c.delayTime),t.setRate(c.rate),t.setDepth(c.depth),t.setFeedback(c.feedback),t.chorusGain.connect(t.leftDelay),t.chorusGain.connect(t.rightDelay),t.leftDelay.connect(t.channelMerger,0,0),t.rightDelay.connect(t.channelMerger,0,1),t.channelMerger.connect(t.feedback),t.channelMerger.connect(t.wetGain),t.feedback.connect(t.leftDelay),t.feedback.connect(t.rightDelay),t.leftLFO.connect(t.leftDelay.getParam("delayTime")),t.rightLFO.connect(t.rightDelay.getParam("delayTime")),qn(t,Tn(t))}return o}(r);function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e,t){return!t||"object"!==Mn(t)&&"function"!=typeof t?Wn(e):t}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kn={amount:0,distortion:0},Vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=44100,n=new Float32Array(t);return n.map((function(n,r){var o=2*r/t-1;return(3+e)*Math.atan(5*Math.sinh(.25*o))/(Math.PI+e*Math.abs(o))}))};const Hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=zn(t);if(n){var o=zn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return In(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Un(this,o),(t=r.call(this,e)).getAmount=function(){return t.wetGain.getGain()},t.getDistortion=function(){return t.distortion},t.setAmount=function(e,n){t._linearFadeUpdate(t.dryGain.getParam("gain"),t.wetGain.getParam("gain"),e,n)},t.setDistortion=function(e){t.waveShaper.setCurve(Vn(e)),t.distortion=e},t.name="Distortion",t.dryGain=new ye(t.AC),t.waveShaper=new Mt(t.AC),t.wetGain=new ye(t.AC),t.distortion=0,t.params={},t.inputs=[t.dryGain,t.waveShaper],t.outputs=[t.dryGain,t.wetGain];var c=Ln(Ln({},Kn),n);return t.setAmount(c.amount),t.setDistortion(c.distortion),t.waveShaper.connect(t.wetGain),In(t,Wn(t))}return o}(r);function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){Yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?nr(e):t}function nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var or={lowFrequency:320,lowGain:0,highFrequency:3200,highGain:0};const cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr(t);if(n){var o=rr(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return tr(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Zn(this,o),(t=r.call(this,e)).getLowFrequency=function(){return t.params.lowFrequency.value},t.getLowGain=function(){return t.params.lowGain.value},t.getHighFrequency=function(){return t.params.highFrequency.value},t.getHighGain=function(){return t.params.highGain.value},t.setLowFrequency=function(e,n){return t.low.setFrequency(e,n)},t.setLowGain=function(e,n){return t.low.setGain(e,n)},t.setHighFrequency=function(e,n){return t.high.setFrequency(e,n)},t.setHighGain=function(e,n){return t.high.setGain(e,n)},t.name="EQ2",t.low=new z(t.AC,{type:"lowshelf",frequency:320}),t.high=new z(t.AC,{type:"highshelf",frequency:3200}),t.params={lowFrequency:t.low.getParam("frequency"),lowGain:t.low.getParam("gain"),highFrequency:t.high.getParam("frequency"),highGain:t.high.getParam("gain")},t.inputs=[t.low],t.outputs=[t.high];var c=Xn(Xn({},or),n);return t.setLowFrequency(c.lowFrequency),t.setLowGain(c.lowGain),t.setHighFrequency(c.highFrequency),t.setHighGain(c.highGain),t.low.connect(t.high),tr(t,nr(t))}return o}(r);function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pr(e,t){return!t||"object"!==ur(t)&&"function"!=typeof t?yr(e):t}function yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mr={amount:0,delayTime:.2,feedback:.6,tone:4400};const gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=br(t);if(n){var o=br(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return pr(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};sr(this,o),(t=r.call(this,e)).getAmount=function(){return t.amount},t.getDelayTime=function(){return t.params.delayTime.value},t.getFeedback=function(){return t.params.feedback.value},t.getTone=function(){return t.params.tone.value},t.setAmount=function(e,n){t.amount=e,t._dryWetUpdate(t.dryGain.getParam("gain"),t.wetGain.getParam("gain"),e,n)},t.setDelayTime=function(e,n){return t.delay.setDelayTime(e,n)},t.setFeedback=function(e,n){return t.feedbackGain.setGain(e,n)},t.setTone=function(e,n){return t.tone.setFrequency(e,n)},t.name="FeedbackDelay",t.dryGain=new ye(t.AC),t.delay=new mt(t.AC),t.feedbackGain=new ye(t.AC),t.tone=new z(t.AC),t.wetGain=new ye(t.AC),t.amount=0,t.params={delayTime:t.delay.getParam("delayTime"),feedback:t.feedbackGain.getParam("gain"),tone:t.tone.getParam("frequency")},t.inputs=[t.dryGain,t.delay],t.outputs=[t.dryGain,t.wetGain];var c=ar(ar({},mr),n);return t.setAmount(c.amount),t.setDelayTime(c.delayTime),t.setFeedback(c.feedback),t.setTone(c.tone),t.delay.connect(t.feedbackGain),t.feedbackGain.connect(t.tone),t.feedbackGain.connect(t.delay),t.tone.connect(t.wetGain),pr(t,yr(t))}return o}(r);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jr(e,t){return!t||"object"!==Or(t)&&"function"!=typeof t?Dr(e):t}function Dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sr(e){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _r={amount:0,delayTime:.01,depth:.0015,feedback:.6666,rate:.3333};const Rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Sr(t);if(n){var o=Sr(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return jr(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Pr(this,o),(t=r.call(this,e)).getAmount=function(){return t.wetGain.getGain()},t.getDelayTime=function(){return t.params.delayTime.value},t.getDepth=function(){return t.params.depth.value},t.getFeedback=function(){return t.params.feedback.value},t.getRate=function(){return t.params.rate.value},t.setAmount=function(e,n){t._linearFadeUpdate(t.dryGain.getParam("gain"),t.wetGain.getParam("gain"),e,n)},t.setFeedback=function(e,n){return t.feedback.setGain(e,n)},t.setRate=function(e,n){return t.lfo.setRate(e,n)},t.setDepth=function(e,n){return t.lfo.setDepth(e,n)},t.setDelayTime=function(e,n){return t.delay.setDelayTime(e,n)},t.name="Flanger",t.dryGain=new ye(t.AC),t.inputGain=new ye(t.AC),t.delay=new mt(t.AC),t.feedback=new ye(t.AC),t.lfo=new bn(t.AC,{start:!0}),t.wetGain=new ye(t.AC),t.params={delayTime:t.delay.getParam("delayTime"),depth:t.lfo.getParam("depth"),feedback:t.feedback.getParam("gain"),rate:t.lfo.getParam("rate")},t.inputs=[t.dryGain,t.inputGain],t.outputs=[t.dryGain,t.wetGain];var c=vr(vr({},_r),n);return t.setAmount(c.amount),t.setDelayTime(c.delayTime),t.setFeedback(c.feedback),t.setDepth(c.depth),t.setRate(c.rate),t.inputGain.connect(t.delay),t.inputGain.connect(t.wetGain),t.delay.connect(t.feedback),t.delay.connect(t.wetGain),t.feedback.connect(t.inputGain),t.lfo.connect(t.delay.getParam("delayTime")),jr(t,Dr(t))}return o}(r);function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){Gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){return(Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cr(e,t){return!t||"object"!==Ar(t)&&"function"!=typeof t?kr(e):t}function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mr={threshold:-6,ratio:20,knee:0,attack:.003,release:.01,gain:.75};const xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tr(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Br(t);if(n){var o=Br(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Cr(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};qr(this,o),(t=r.call(this,e)).getKnee=function(){return t.params.knee.value},t.getThreshold=function(){return t.params.threshold.value},t.getRatio=function(){return t.params.ratio.value},t.getAttack=function(){return t.params.attack.value},t.getRelease=function(){return t.params.release.value},t.getReduction=function(){return t.limiter.reduction},t.getGain=function(){return t.params.gain.value},t.setKnee=function(e,n){return t.limiter.setKnee(e,n)},t.setThreshold=function(e,n){return t.limiter.setThreshold(e,n)},t.setRatio=function(e,n){return t.limiter.setRatio(e,n)},t.setAttack=function(e,n){return t.limiter.setAttack(e,n)},t.setRelease=function(e,n){return t.limiter.setRelease(e,n)},t.setGain=function(e,n){return t.gain.setGain(e,n)},t.name="Limiter",t.limiter=new Ve(t.AC),t.gain=new ye(t.AC),t.params={knee:t.limiter.getParam("knee"),threshold:t.limiter.getParam("threshold"),ratio:t.limiter.getParam("ratio"),attack:t.limiter.getParam("attack"),release:t.limiter.getParam("release"),gain:t.gain.getParam("gain")},t.inputs=[t.limiter],t.outputs=[t.gain];var c=Fr(Fr({},Mr),n);return t.setThreshold(c.threshold),t.setRatio(c.ratio),t.setKnee(c.knee),t.setAttack(c.attack),t.setRelease(c.release),t.setGain(c.gain),t.limiter.connect(t.gain),Cr(t,kr(t))}return o}(r);function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){Qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zr(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?Kr(e):t}function Kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hr={amount:0,preDelayTime:.2,leftDelayTime:.2,rightDelayTime:.2,leftFeedback:.6,rightFeedback:.6,tone:4400};const $r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Vr(t);if(n){var o=Vr(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return zr(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ir(this,o),(t=r.call(this,e)).getAmount=function(){return t.amount},t.getPreDelayTime=function(){return t.params.preDelayTime.value},t.getLeftDelayTime=function(){return t.params.leftDelayTime.value},t.getRightDelayTime=function(){return t.params.rightDelayTime.value},t.getLeftFeedback=function(){return t.params.leftFeedback.value},t.getRightFeedback=function(){return t.params.rightFeedback.value},t.getTone=function(){return t.params.tone.value},t.setAmount=function(e,n){t.amount=e,t._dryWetUpdate(t.dryGain.getParam("gain"),t.wetGain.getParam("gain"),e,n)},t.setPreDelayTime=function(e,n){return t.preDelay.setDelayTime(e,n)},t.setLeftDelayTime=function(e,n){return t.leftDelay.setDelayTime(e,n)},t.setRightDelayTime=function(e,n){return t.rightDelay.setDelayTime(e,n)},t.setLeftFeedback=function(e,n){return t.leftFeedbackGain.setGain(e,n)},t.setRightFeedback=function(e,n){return t.rightFeedbackGain.setGain(e,n)},t.setTone=function(e,n){return t.tone.setFrequency(e,n)},t.name="PingPongDelay",t.dryGain=new ye(t.AC),t.leftDelay=new mt(t.AC),t.preDelay=new mt(t.AC),t.rightDelay=new mt(t.AC),t.leftFeedbackGain=new ye(t.AC),t.rightFeedbackGain=new ye(t.AC),t.channelMerger=new Fe(t.AC),t.tone=new z(t.AC),t.wetGain=new ye(t.AC),t.amount=0,t.params={preDelayTime:t.preDelay.getParam("delayTime"),leftDelayTime:t.leftDelay.getParam("delayTime"),rightDelayTime:t.rightDelay.getParam("delayTime"),leftFeedback:t.leftFeedbackGain.getParam("gain"),rightFeedback:t.rightFeedbackGain.getParam("gain"),tone:t.tone.getParam("frequency")},t.inputs=[t.dryGain,t.leftDelay,t.preDelay],t.outputs=[t.dryGain,t.wetGain];var c=Ur(Ur({},Hr),n);return t.setAmount(c.amount),t.setPreDelayTime(c.preDelayTime),t.setLeftDelayTime(c.leftDelayTime),t.setRightDelayTime(c.rightDelayTime),t.setLeftFeedback(c.leftFeedback),t.setRightFeedback(c.rightFeedback),t.setTone(c.tone),t.preDelay.connect(t.rightDelay),t.leftDelay.connect(t.channelMerger,0,0),t.rightDelay.connect(t.channelMerger,0,1),t.leftDelay.connect(t.leftFeedbackGain),t.leftFeedbackGain.connect(t.rightDelay),t.rightDelay.connect(t.rightFeedbackGain),t.rightFeedbackGain.connect(t.leftDelay),t.channelMerger.connect(t.tone),t.tone.connect(t.wetGain),zr(t,Kr(t))}return o}(r);function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){Zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){return(to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function no(e,t){return!t||"object"!==Jr(t)&&"function"!=typeof t?ro(e):t}function ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var co={buffer:null,loop:!1,detune:0,playbackRate:1,start:!1};const uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&to(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=oo(t);if(n){var o=oo(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return no(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eo(this,o),(t=r.call(this,e)).start=function(){return t.bufferSource.start()},t.stop=function(){return t.bufferSource.stop()},t.getBuffer=function(){return t.bufferSource.buffer},t.getLoop=function(){return t.bufferSource.loop},t.getDetune=function(){return t.params.detune.value},t.getPlaybackRate=function(){return t.params.playbackRate.value},t.setBuffer=function(e){return t.bufferSource.buffer=e},t.setLoop=function(e){return t.bufferSource.loop=e},t.setDetune=function(e,n){return t._timeUpdate(t.params.detune,e,n)},t.setPlaybackRate=function(e,n){return t._timeUpdate(t.params.playbackRate,e,n)},t.name="BufferSource",t.bufferSource=t.AC.createBufferSource(),t.params={detune:t.bufferSource.detune,playbackRate:t.bufferSource.playbackRate},t.inputs=[t.bufferSource],t.outputs=[t.bufferSource];var c=Yr(Yr({},co),n);return t.setBuffer(c.buffer),t.setLoop(c.loop),t.setDetune(c.detune),t.setPlaybackRate(c.playbackRate),c.start&&t.start(),no(t,ro(t))}return o}(r);function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){so(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yo(e,t){return!t||"object"!==io(t)&&"function"!=typeof t?bo(e):t}function bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mo(e){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var go=function(e){var t=2*e.sampleRate;return e.createBuffer(1,t,e.sampleRate)},Oo={white:function(e){for(var t=e.getChannelData(0),n=0;n<t.length;n++)t[n]=2*Math.random()-1;return e},pink:function(e){var t,n,r,o,c,u,i,a=e.getChannelData(0);t=n=r=o=c=u=i=0;for(var f=0;f<a.length;f++){var s=2*Math.random()-1;t=.99886*t+.0555179*s,n=.99332*n+.0750759*s,r=.969*r+.153852*s,o=.8665*o+.3104856*s,c=.55*c+.5329522*s,u=-.7616*u-.016898*s,a[f]=.11*(t+n+r+o+c+u+i+.5362*s),i=.115926*s}return e},brown:function(e){for(var t=e.getChannelData(0),n=0,r=0;r<t.length;r++){var o=2*Math.random()-1;t[r]=4*(n+.02*o)/1.02,n=t[r]/4}return e}},ho={type:"white",start:!1};const vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=mo(t);if(n){var o=mo(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return yo(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};lo(this,o),(t=r.call(this,e)).start=function(){return t.bufferSource.start()},t.stop=function(){return t.bufferSource.stop()},t.getType=function(){return t.type},t.setType=function(e){if(A.includes(e))if(t.type=e,t.bufferSource.getBuffer())Oo[t.type](t.bufferSource.getBuffer());else{var n=go(t.AC);t.bufferSource.setBuffer(Oo[t.type](n))}},t.name="NoiseGenerator",t.bufferSource=new uo(t.AC,{loop:!0}),t.type="white",t.params={},t.inputs=null,t.outputs=[t.bufferSource];var c=fo(fo({},ho),n);return t.setType(c.type),c.start&&t.start(),yo(t,bo(t))}return o}(r);function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(n),!0).forEach((function(t){Do(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function So(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _o(e,t){return(_o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ro(e,t){return!t||"object"!==Po(t)&&"function"!=typeof t?Ao(e):t}function Ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eo(e){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fo={amount:0,buffer:null,normalize:!1};const Go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_o(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Eo(t);if(n){var o=Eo(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Ro(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};So(this,o),(t=r.call(this,e)).getAmount=function(){return t.amount},t.getBuffer=function(){return t.convolver.getParam("buffer")},t.getNormalize=function(){return t.convolver.getParam("normalize")},t.setAmount=function(e,n){t.amount=e,t._dryWetUpdate(t.dryGain.getParam("gain"),t.wetGain.getParam("gain"),e,n)},t.setBuffer=function(e){return t.convolver.setBuffer(e)},t.setNormalize=function(e){return t.convolver.setNormalize(e)},t._generateBuffer=function(){var e=new OfflineAudioContext(2,2.55*44100,44100),n=new vo(e,{start:!0}),r=new vo(e,{start:!0}),o=new Fe(e),c=new ye(e);n.connect(o,0,0),r.connect(o,0,1),o.connect(c),c.connect(e.destination),c.getParam("gain").setValueAtTime(0,e.currentTime),c.getParam("gain").setTargetAtTime(.05,e.currentTime,.01),c.getParam("gain").setTargetAtTime(0,e.currentTime+.01,.5),e.startRendering().then((function(e){return t.setBuffer(e)}))},t.name="Reverb",t.dryGain=new ye(t.AC),t.convolver=new ot(t.AC),t.wetGain=new ye(t.AC),t.amount=0,t.params={},t.inputs=[t.dryGain,t.convolver],t.outputs=[t.dryGain,t.wetGain];var c=jo(jo({},Fo),n);return t.setAmount(c.amount),t.setBuffer(c.buffer),t.setNormalize(c.normalize),t.getBuffer()||t._generateBuffer(),t.convolver.connect(t.wetGain),Ro(t,Ao(t))}return o}(r);function qo(e){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xo(e,t){return!t||"object"!==qo(t)&&"function"!=typeof t?Lo(e):t}function Lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function No(e){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Uo={depth:1,rate:1,type:"sine"};const Qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mo(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=No(t);if(n){var o=No(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return xo(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Bo(this,o),(t=r.call(this,e)).getDepth=function(){return t.LFO.getDepth()},t.getRate=function(){return t.LFO.getRate()},t.getType=function(){return t.LFO.getType()},t.setDepth=function(e,n){return t.LFO.setDepth(e,n)},t.setRate=function(e,n){return t.LFO.setRate(e,n)},t.setType=function(e){return t.LFO.setType(e)},t.name="Tremolo",t.LFO=new bn(e,{start:!0}),t.gain=new ye(e,{gain:0}),t.params={rate:t.LFO.getParam("rate"),depth:t.LFO.getParam("depth")},t.inputs=[t.gain],t.outputs=[t.gain];var c=Co(Co({},Uo),n);return t.setRate(c.rate),t.setDepth(c.depth),t.setType(c.type),t.LFO.connect(t.gain.getParam("gain")),xo(t,Lo(t))}return o}(r);function Io(e){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(n),!0).forEach((function(t){Ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $o(e,t){return!t||"object"!==Io(t)&&"function"!=typeof t?Jo(e):t}function Jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xo(e){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yo={waveform:"sine",frequency:440,detune:0,gain:1};const Zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Xo(t);if(n){var o=Xo(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return $o(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vo(this,o),(t=r.call(this,e)).getWaveform=function(){return t.osc.getType()},t.getFrequency=function(){return t.params.frequency.value},t.getDetune=function(){return t.params.detune.value},t.getGain=function(){return t.params.gain.value},t.setWaveform=function(e){return t.osc.setType(e)},t.setFrequency=function(e,n){return t.osc.setFrequency(e,n)},t.setDetune=function(e,n){return t.osc.setDetune(e,n)},t.setGain=function(e,n){return t.gain.setGain(e,n)},t.name="Osc",t.osc=new Ht(t.AC,{start:!0}),t.gain=new ye(t.AC),t.params={frequency:t.osc.getParam("frequency"),detune:t.osc.getParam("detune"),gain:t.gain.getParam("gain")},t.inputs=null,t.outputs=[t.gain];var c=zo(zo({},Yo),n);return t.setWaveform(c.waveform),t.setFrequency(c.frequency),t.setDetune(c.detune),t.setGain(c.gain),t.osc.connect(t.gain),$o(t,Jo(t))}return o}(r);var ec=function(e){return e.forEach((function(e){return e.disconnect()}))};const tc=[function(e,t,n,r,o){return ec([e,t,n,r]),e.connect(t.getParam("frequency")),t.connect(n.getParam("frequency")),n.connect(r.getParam("frequency")),r.connect(o),"A > B > C > D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect(n.getParam("frequency")),t.connect(n.getParam("frequency")),n.connect(r.getParam("frequency")),r.connect(o),"[A + B] > C > D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect(t.getParam("frequency")),t.connect(r.getParam("frequency")),n.connect(r.getParam("frequency")),r.connect(o),"[A > B + C] > D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect([t.getParam("frequency"),n.getParam("frequency")]),t.connect(r.getParam("frequency")),n.connect(r.getParam("frequency")),r.connect(o),"[[A > B] + [A > C]] > D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect(t.getParam("frequency")),t.connect([n.getParam("frequency"),r.getParam("frequency")]),n.connect(o),r.connect(o),"[A > B > C] + [A > B > D] => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect(t.getParam("frequency")),t.connect(n.getParam("frequency")),n.connect(o),r.connect(o),"[A > B > C] + D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect(r.getParam("frequency")),t.connect(r.getParam("frequency")),n.connect(r.getParam("frequency")),r.connect(o),"[A + B + C] > D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect(t.getParam("frequency")),t.connect(o),n.connect(r.getParam("frequency")),r.connect(o),"[A > B] + [C > D] => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect([t.getParam("frequency"),n.getParam("frequency"),r.getParam("frequency")]),t.connect(o),n.connect(o),r.connect(o),"[A > B] + [A > C] + [A > D] => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect(t.getParam("frequency")),t.connect(o),n.connect(o),r.connect(o),"[A > B] + C + D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect(o),t.connect(o),n.connect(o),r.connect(o),"A + B + C + D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect([e.getParam("frequency"),t.getParam("frequency")]),t.connect(n.getParam("frequency")),n.connect(r.getParam("frequency")),r.connect(o),"[A > A] > B > C > D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect([e.getParam("frequency"),n.getParam("frequency")]),t.connect(n.getParam("frequency")),n.connect(r.getParam("frequency")),r.connect(o),"[[A > A] + B] > C > D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect([e.getParam("frequency"),r.getParam("frequency")]),t.connect(n.getParam("frequency")),n.connect(r.getParam("frequency")),r.connect(o),"[[A > A] + B > C] > D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect([e.getParam("frequency"),t.getParam("frequency")]),t.connect(r.getParam("frequency")),n.connect(r.getParam("frequency")),r.connect(o),"[[A > A] > B + C] > D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect([e.getParam("frequency"),t.getParam("frequency")]),t.connect(o),n.connect([n.getParam("frequency"),r.getParam("frequency")]),r.connect(o),"[A > A] > B + [C > C] > D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect([e.getParam("frequency"),t.getParam("frequency"),n.getParam("frequency"),r.getParam("frequency")]),t.connect(o),n.connect(o),r.connect(o),"[A > A > B] + [A > A > C] + [A > A > D] => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect([e.getParam("frequency"),t.getParam("frequency")]),t.connect(o),n.connect(o),r.connect(o),"[A > A > B] + C + D => Out"},function(e,t,n,r,o){return ec([e,t,n,r]),e.connect([e.getParam("frequency"),o]),t.connect(o),n.connect(o),r.connect(o),"[A > A] + B + C + D => Out"}];function nc(e){return(nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(n),!0).forEach((function(t){cc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ic(e,t){return(ic=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ac(e,t){return!t||"object"!==nc(t)&&"function"!=typeof t?fc(e):t}function fc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lc={algorithm:0,modAFrequency:440,modADetune:0,modAGain:440,modBFrequency:440,modBDetune:0,modBGain:440,modCFrequency:440,modCDetune:0,modCGain:440,modDFrequency:440,modDDetune:0,modDGain:440,gainAttack:0,gainDecay:0,gainSustain:1,gainRelease:0,gainAmount:.75};const pc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ic(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=sc(t);if(n){var o=sc(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return ac(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};uc(this,o),(t=r.call(this,e)).getAlgorithm=function(){return t.algorithm},t.getModAFrequency=function(){return t.params.modAFrequency.value},t.getModADetune=function(){return t.params.modADetune.value},t.getModAGain=function(){return t.params.modAGain.value},t.getModBFrequency=function(){return t.params.modBFrequency.value},t.getModBDetune=function(){return t.params.modBDetune.value},t.getModBGain=function(){return t.params.modBGain.value},t.getModCFrequency=function(){return t.params.modCFrequency.value},t.getModCDetune=function(){return t.params.modCDetune.value},t.getModCGain=function(){return t.params.modCGain.value},t.getModDFrequency=function(){return t.params.modDFrequency.value},t.getModDDetune=function(){return t.params.modDDetune.value},t.getModDGain=function(){return t.params.modDGain.value},t.getGainAttack=function(){return t.gainEnv.getAttack()},t.getGainDecay=function(){return t.gainEnv.getDecay()},t.getGainSustain=function(){return t.gainEnv.getSustain()},t.getGainRelease=function(){return t.gainEnv.getRelease()},t.getGainAmount=function(){return t.gainEnv.getModifier()},t.setAlgorithm=function(e){return tc[e]?(t.algorithm=tc[e](t.modA,t.modB,t.modC,t.modD,t.limiter),t.algorithm):console.error("Invalid algorithm index")},t.setModAFrequency=function(e,n){return t.modA.setFrequency(e,n)},t.setModADetune=function(e,n){return t.modA.setDetune(e,n)},t.setModAGain=function(e,n){return t.modA.setGain(e,n)},t.setModBFrequency=function(e,n){return t.modB.setFrequency(e,n)},t.setModBDetune=function(e,n){return t.modB.setDetune(e,n)},t.setModBGain=function(e,n){return t.modB.setGain(e,n)},t.setModCFrequency=function(e,n){return t.modC.setFrequency(e,n)},t.setModCDetune=function(e,n){return t.modC.setDetune(e,n)},t.setModCGain=function(e,n){return t.modC.setGain(e,n)},t.setModDFrequency=function(e,n){return t.modD.setFrequency(e,n)},t.setModDDetune=function(e,n){return t.modD.setDetune(e,n)},t.setModDGain=function(e,n){return t.modD.setGain(e,n)},t.setGainAttack=function(e){return t.gainEnv.setAttack(e)},t.setGainDecay=function(e){return t.gainEnv.setDecay(e)},t.setGainSustain=function(e){return t.gainEnv.setSustain(e)},t.setGainRelease=function(e){return t.gainEnv.setRelease(e)},t.setGainAmount=function(e){return t.gainEnv.setModifier(e)},t.triggerAttack=function(){return t.gainEnv.triggerAttack()},t.triggerRelease=function(){return t.gainEnv.triggerRelease()},t.triggerStop=function(){return t.gainEnv.triggerStop()},t.name="FMSynth",t.modA=new Zo(t.AC),t.modB=new Zo(t.AC),t.modC=new Zo(t.AC),t.modD=new Zo(t.AC),t.limiter=new xr(t.AC),t.gainEnv=new De(t.AC),t.algorithm=null,t.params={modAFrequency:t.modA.getParam("frequency"),modADetune:t.modA.getParam("detune"),modAGain:t.modA.getParam("gain"),modBFrequency:t.modB.getParam("frequency"),modBDetune:t.modB.getParam("detune"),modBGain:t.modB.getParam("gain"),modCFrequency:t.modC.getParam("frequency"),modCDetune:t.modC.getParam("detune"),modCGain:t.modC.getParam("gain"),modDFrequency:t.modD.getParam("frequency"),modDDetune:t.modD.getParam("detune"),modDGain:t.modD.getParam("gain")},t.inputs=null,t.outputs=[t.gainEnv];var c=oc(oc({},lc),n);return t.setAlgorithm(c.algorithm),t.setModAFrequency(c.modAFrequency),t.setModADetune(c.modADetune),t.setModAGain(c.modAGain),t.setModBFrequency(c.modBFrequency),t.setModBDetune(c.modBDetune),t.setModBGain(c.modBGain),t.setModCFrequency(c.modCFrequency),t.setModCDetune(c.modCDetune),t.setModCGain(c.modCGain),t.setModDFrequency(c.modDFrequency),t.setModDDetune(c.modDDetune),t.setModDGain(c.modDGain),t.setGainAttack(c.gainAttack),t.setGainDecay(c.gainDecay),t.setGainSustain(c.gainSustain),t.setGainRelease(c.gainRelease),t.setGainAmount(c.gainAmount),t.limiter.connect(t.gainEnv),ac(t,fc(t))}return o}(r);function yc(e){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){gc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hc(e,t){return(hc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vc(e,t){return!t||"object"!==yc(t)&&"function"!=typeof t?dc(e):t}function dc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pc(e){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wc={waveform:"sine",frequency:440,detune:0,gainAttack:0,gainDecay:0,gainSustain:1,gainRelease:0,gainAmount:.75};const jc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hc(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Pc(t);if(n){var o=Pc(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return vc(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Oc(this,o),(t=r.call(this,e)).getCurrentNote=function(){return t.currentNote},t.getWaveform=function(){return t.osc.getType()},t.getFrequency=function(){return t.params.frequency.value},t.getDetune=function(){return t.params.detune.value},t.getGainAttack=function(){return t.gainEnv.getAttack()},t.getGainDecay=function(){return t.gainEnv.getDecay()},t.getGainSustain=function(){return t.gainEnv.getSustain()},t.getGainRelease=function(){return t.gainEnv.getRelease()},t.getGainAmount=function(){return t.gainEnv.getModifier()},t.setWaveform=function(e){return t.osc.setType(e)},t.setFrequency=function(e,n){return t.osc.setFrequency(e,n)},t.setDetune=function(e,n){return t.osc.setDetune(e,n)},t.setGainAttack=function(e){return t.gainEnv.setAttack(e)},t.setGainDecay=function(e){return t.gainEnv.setDecay(e)},t.setGainSustain=function(e){return t.gainEnv.setSustain(e)},t.setGainRelease=function(e){return t.gainEnv.setRelease(e)},t.setGainAmount=function(e){return t.gainEnv.setModifier(e)},t.noteOn=function(e){return t._noteOn(e)},t.noteOff=function(e){return t._noteOff(e)},t.noteStop=function(){return t._noteStop()},t._noteOn=function(e){e?(t.currentNote=e,t.osc.setFrequency(Yt(e)),t.gainEnv.triggerAttack()):console.error("Note must be provided to play")},t._noteOff=function(e){e&&e!==t.currentNote||(t.currentNote=null,t.gainEnv.triggerRelease())},t._noteStop=function(){t.currentNote=null,t.gainEnv.triggerStop()},t.name="Synth",t.osc=new Ht(t.AC,{start:!0}),t.gainEnv=new De(t.AC),t.currentNote=null,t.params={frequency:t.osc.getParam("frequency"),detune:t.osc.getParam("detune"),gain:t.gainEnv.getParam("gain")},t.inputs=null,t.outputs=[t.gainEnv];var c=mc(mc({},wc),n);return t.setWaveform(c.waveform),t.setFrequency(c.frequency),t.setDetune(c.detune),t.setGainAttack(c.gainAttack),t.setGainDecay(c.gainDecay),t.setGainSustain(c.gainSustain),t.setGainRelease(c.gainRelease),t.setGainAmount(c.gainAmount),t.osc.connect(t.gainEnv),vc(t,dc(t))}return o}(r);function Dc(e){return(Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(n),!0).forEach((function(t){Rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ac(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ec(e,t){return(Ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fc(e,t){return!t||"object"!==Dc(t)&&"function"!=typeof t?Gc(e):t}function Gc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qc(e){return(qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tc={filterFrequency:2e3,filterQ:0,filterDetune:0,filterGain:0,filterType:"lowpass",filterAttack:0,filterDecay:0,filterSustain:1,filterRelease:0,filterAmount:6e3};const Cc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ec(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=qc(t);if(n){var o=qc(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Fc(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ac(this,o),(t=r.call(this,e,n)).getFilterFrequency=function(){return t.filterEnv.getFrequency()},t.getFilterDetune=function(){return t.filterEnv.getDetune()},t.getFilterQ=function(){return t.filterEnv.getQ()},t.getFilterGain=function(){return t.filterEnv.getGain()},t.getFilterType=function(){return t.filterEnv.getType()},t.getFilterAttack=function(){return t.filterEnv.getAttack()},t.getFilterDecay=function(){return t.filterEnv.getDecay()},t.getFilterSustain=function(){return t.filterEnv.getSustain()},t.getFilterRelease=function(){return t.filterEnv.getRelease()},t.getFilterAmount=function(){return t.filterEnv.getModifier()},t.setFilterFrequency=function(e,n){return t.filterEnv.setFrequency(e,n)},t.setFilterDetune=function(e,n){return t.filterEnv.setDetune(e,n)},t.setFilterQ=function(e,n){return t.filterEnv.setQ(e,n)},t.setFilterGain=function(e,n){return t.filterEnv.setGain(e,n)},t.setFilterType=function(e){return t.filterEnv.setType(e)},t.setFilterAttack=function(e){return t.filterEnv.setAttack(e)},t.setFilterDecay=function(e){return t.filterEnv.setDecay(e)},t.setFilterSustain=function(e){return t.filterEnv.setSustain(e)},t.setFilterRelease=function(e){return t.filterEnv.setRelease(e)},t.setFilterAmount=function(e){return t.filterEnv.setModifier(e)},t.noteOn=function(e){t._noteOn(e),t.filterEnv.triggerAttack()},t.noteOff=function(e){e&&e!==t.currentNote||(t._noteOff(e),t.filterEnv.triggerRelease())},t.noteStop=function(){t._noteStop(),t.filterEnv.triggerStop()},t.name="MonoSynth",t.filterEnv=new ne(t.AC),t.params=_c(_c({},t.params),{},{filterFrequency:t.filterEnv.getParam("frequency"),filterQ:t.filterEnv.getParam("q"),filterDetune:t.filterEnv.getParam("detune"),filterGain:t.filterEnv.getParam("gain")}),t.inputs=null,t.outputs=[t.filterEnv];var c=_c(_c({},Tc),n);return t.setFilterType(c.filterType),t.setFilterFrequency(c.filterFrequency),t.setFilterQ(c.filterQ),t.setFilterDetune(c.filterDetune),t.setFilterGain(c.filterGain),t.setFilterAttack(c.filterAttack),t.setFilterDecay(c.filterDecay),t.setFilterSustain(c.filterSustain),t.setFilterRelease(c.filterRelease),t.setFilterAmount(c.filterAmount),t.gainEnv.connect(t.filterEnv),Fc(t,Gc(t))}return o}(jc);function kc(e){return(kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bc(Object(n),!0).forEach((function(t){xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nc(e,t){return(Nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uc(e,t){return!t||"object"!==kc(t)&&"function"!=typeof t?Qc(e):t}function Qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ic(e){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wc={polyphony:8,waveform:"sine",frequency:440,detune:0,gainAttack:0,gainDecay:0,gainSustain:1,gainRelease:0,gainAmount:.15,filterFrequency:2e3,filterQ:0,filterDetune:0,filterGain:0,filterType:"lowpass",filterAttack:0,filterDecay:0,filterSustain:1,filterRelease:0,filterAmount:6e3};const zc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nc(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Ic(t);if(n){var o=Ic(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Uc(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Lc(this,o),(t=r.call(this,e)).getPolyphony=function(){return t.polyphony},t.getWaveform=function(){return t.voices[0].getWaveform()},t.getDetune=function(){return t.voices[0].getDetune()},t.getGainAttack=function(){return t.voices[0].getGainAttack()},t.getGainDecay=function(){return t.voices[0].getGainDecay()},t.getGainSustain=function(){return t.voices[0].getGainSustain()},t.getGainRelease=function(){return t.voices[0].getGainRelease()},t.getGainAmount=function(){return t.voices[0].getGainAmount()},t.getFilterFrequency=function(){return t.voices[0].getFilterFrequency()},t.getFilterDetune=function(){return t.voices[0].getFilterDetune()},t.getFilterQ=function(){return t.voices[0].getFilterQ()},t.getFilterGain=function(){return t.voices[0].getFilterGain()},t.getFilterType=function(){return t.voices[0].getFilterType()},t.getFilterAttack=function(){return t.voices[0].getFilterAttack()},t.getFilterDecay=function(){return t.voices[0].getFilterDecay()},t.getFilterSustain=function(){return t.voices[0].getFilterSustain()},t.getFilterRelease=function(){return t.voices[0].getFilterRelease()},t.getFilterAmount=function(){return t.voices[0].getFilterAmount()},t.setPolyphony=function(e){return t.polyphony=$t(e,1,8)},t.setWaveform=function(e){return t.voices.forEach((function(t){return t.setWaveform(e)}))},t.setDetune=function(e,n){return t.voices.forEach((function(t){return t.setDetune(e,n)}))},t.setGainAttack=function(e){return t.voices.forEach((function(t){return t.setGainAttack(e)}))},t.setGainDecay=function(e){return t.voices.forEach((function(t){return t.setGainDecay(e)}))},t.setGainSustain=function(e){return t.voices.forEach((function(t){return t.setGainSustain(e)}))},t.setGainRelease=function(e){return t.voices.forEach((function(t){return t.setGainRelease(e)}))},t.setGainAmount=function(e){return t.voices.forEach((function(t){return t.setGainAmount(e)}))},t.setFilterFrequency=function(e,n){return t.voices.forEach((function(t){return t.setFilterFrequency(e,n)}))},t.setFilterDetune=function(e,n){return t.voices.forEach((function(t){return t.setFilterDetune(e,n)}))},t.setFilterQ=function(e,n){return t.voices.forEach((function(t){return t.setFilterQ(e,n)}))},t.setFilterGain=function(e,n){return t.voices.forEach((function(t){return t.setFilterGain(e,n)}))},t.setFilterType=function(e){return t.voices.forEach((function(t){return t.setFilterType(e)}))},t.setFilterAttack=function(e){return t.voices.forEach((function(t){return t.setFilterAttack(e)}))},t.setFilterDecay=function(e){return t.voices.forEach((function(t){return t.setFilterDecay(e)}))},t.setFilterSustain=function(e){return t.voices.forEach((function(t){return t.setFilterSustain(e)}))},t.setFilterRelease=function(e){return t.voices.forEach((function(t){return t.setFilterRelease(e)}))},t.setFilterAmount=function(e){return t.voices.forEach((function(t){return t.setFilterAmount(e)}))},t.noteOn=function(e){if(Array.isArray(e))e.forEach((function(e){return t.noteOn(e)}));else{if(t.voices[t.voicePos].getCurrentNote()){var n=t.voicePos;for(t._incrementVoicePos();t.voicePos!==n&&t.voices[t.voicePos].currentNote;)t._incrementVoicePos();t._voiceNoteOn(t.voices[t.voicePos],e)}else t._voiceNoteOn(t.voices[t.voicePos],e);t._incrementVoicePos()}},t.noteOff=function(e){return e?Array.isArray(e)?e.forEach((function(e){return t.noteOff(e)})):void t.voices.filter((function(t){return t.getCurrentNote()===e})).forEach((function(n){return t._voiceNoteOff(n,e)})):t.voices.forEach((function(e){return t._voiceNoteOff(e)}))},t.noteStop=function(e){return e?Array.isArray(e)?e.forEach((function(e){return t.noteStop(e)})):void t.voices.filter((function(t){return t.getCurrentNote()===e})).forEach((function(e){return t._voiceNoteStop(e)})):t.voices.forEach((function(e){return t._voiceNoteStop(e)}))},t._resetVoicePos=function(){return t.voicePos=0},t._incrementVoicePos=function(){return t.voicePos=(t.voicePos+1)%t.polyphony},t._voiceNoteOn=function(e,t){return e.noteOn(t)},t._voiceNoteOff=function(e,t){return e.noteOff(t)},t._voiceNoteStop=function(e){return e.noteStop()},t.name="PolySynth",t.voices=Array(8).fill(0).map((function(e){return new Cc(t.AC)})),t.limiter=new xr(t.AC),t.polyphony=8,t.voicePos=0,t.params={frequency:t.voices.map((function(e){return e.getParam("frequency")})),detune:t.voices.map((function(e){return e.getParam("detune")})),gain:t.voices.map((function(e){return e.getParam("gain")})),filterFrequency:t.voices.map((function(e){return e.getParam("filterFrequency")})),filterQ:t.voices.map((function(e){return e.getParam("filterQ")})),filterDetune:t.voices.map((function(e){return e.getParam("filterDetune")})),filterGain:t.voices.map((function(e){return e.getParam("filterGain")}))},t.inputs=null,t.outputs=[t.limiter];var c=Mc(Mc({},Wc),n);return t.setPolyphony(c.polyphony),t.voices.forEach((function(e){e.setWaveform(c.waveform),e.setFrequency(c.frequency),e.setDetune(c.detune),e.setGainAttack(c.gainAttack),e.setGainDecay(c.gainDecay),e.setGainSustain(c.gainSustain),e.setGainRelease(c.gainRelease),e.setGainAmount(c.gainAmount),e.setFilterType(c.filterType),e.setFilterFrequency(c.filterFrequency),e.setFilterQ(c.filterQ),e.setFilterDetune(c.filterDetune),e.setFilterGain(c.filterGain),e.setFilterAttack(c.filterAttack),e.setFilterDecay(c.filterDecay),e.setFilterSustain(c.filterSustain),e.setFilterRelease(c.filterRelease),e.setFilterAmount(c.filterAmount),e.connect(t.limiter)})),Uc(t,Qc(t))}return o}(r);function Kc(e){return(Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vc(Object(n),!0).forEach((function(t){$c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xc(e,t){return(Xc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yc(e,t){return!t||"object"!==Kc(t)&&"function"!=typeof t?Zc(e):t}function Zc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eu(e){return(eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tu={modulatorFrequency:440,modulatorDetune:0,modulatorDepth:440,carrierFrequency:440,carrierDetune:0,gainAttack:0,gainDecay:0,gainSustain:1,gainRelease:0,gainAmount:.75};const nu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xc(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=eu(t);if(n){var o=eu(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Yc(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Jc(this,o),(t=r.call(this,e)).getModulatorFrequency=function(){return t.params.modulatorFrequency.value},t.getModulatorDetune=function(){return t.params.modulatorDetune.value},t.getModulatorDepth=function(){return t.params.modulatorDepth.value},t.getCarrierFrequency=function(){return t.params.carrierFrequency.value},t.getCarrierDetune=function(){return t.params.carrierDetune.value},t.getGainAttack=function(){return t.carrier.getGainAttack()},t.getGainDecay=function(){return t.carrier.getGainDecay()},t.getGainSustain=function(){return t.carrier.getGainSustain()},t.getGainRelease=function(){return t.carrier.getGainRelease()},t.getGainAmount=function(){return t.carrier.getGainAmount()},t.setModulatorFrequency=function(e,n){return t.modulator.setFrequency(e,n)},t.setModulatorDetune=function(e,n){return t.modulator.setDetune(e,n)},t.setModulatorDepth=function(e,n){return t.modulator.setGain(e,n)},t.setCarrierFrequency=function(e,n){return t.carrier.setFrequency(e,n)},t.setCarrierDetune=function(e,n){return t.carrier.setDetune(e,n)},t.setGainAttack=function(e){return t.carrier.setGainAttack(e)},t.setGainDecay=function(e){return t.carrier.setGainDecay(e)},t.setGainSustain=function(e){return t.carrier.setGainSustain(e)},t.setGainRelease=function(e){return t.carrier.setGainRelease(e)},t.setGainAmount=function(e){return t.carrier.setGainAmount(e)},t.noteOn=function(e){return t.carrier.noteOn(e)},t.noteOff=function(e){return t.carrier.noteOff(e)},t.noteStop=function(){return t.carrier.noteStop()},t.name="SimpleFMSynth",t.modulator=new Zo(t.AC),t.carrier=new jc(t.AC),t.params={modulatorFrequency:t.modulator.getParam("frequency"),modulatorDetune:t.modulator.getParam("detune"),modulatorDepth:t.modulator.getParam("gain"),carrierFrequency:t.carrier.getParam("frequency"),carrierDetune:t.carrier.getParam("detune"),carrierGain:t.carrier.getParam("gain")},t.input=null,t.outputs=[t.carrier];var c=Hc(Hc({},tu),n);return t.setModulatorFrequency(c.modulatorFrequency),t.setModulatorDetune(c.modulatorDetune),t.setModulatorDepth(c.modulatorDepth),t.setCarrierFrequency(c.carrierFrequency),t.setCarrierDetune(c.carrierDetune),t.setGainAttack(c.gainAttack),t.setGainDecay(c.gainDecay),t.setGainSustain(c.gainSustain),t.setGainRelease(c.gainRelease),t.setGainAmount(c.gainAmount),t.modulator.connect(t.params.carrierFrequency),Yc(t,Zc(t))}return o}(r);function ru(e){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){uu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function au(e,t){return(au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fu(e,t){return!t||"object"!==ru(t)&&"function"!=typeof t?su(e):t}function su(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lu(e){return(lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pu={gain:1,start:!1};const yu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&au(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=lu(t);if(n){var o=lu(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return fu(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};iu(this,o),(t=r.call(this,e)).start=function(){return t.osc.start()},t.stop=function(){return t.osc.stop()},t.getGain=function(){return t.params.gain.value},t.setGain=function(e,n){return t.gain.setGain(e,n)},t.name="SignalGenerator",t.osc=new Ht(t.AC),t.gain=new ye(t.AC),t.waveshaper=new Mt(t.AC,{curve:new Float32Array(44100).fill(1)}),t.params={gain:t.gain.getParam("gain")},t.inputs=null,t.outputs=[t.gain];var c=cu(cu({},pu),n);return t.setGain(c.gain),t.osc.connect(t.waveshaper),t.waveshaper.connect(t.gain),c.start&&t.start(),fu(t,su(t))}return o}(r);function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach((function(t){gu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ou(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var hu={octave:4,velocity:127,onPress:function(){},onRelease:function(){}};const vu=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ou(this,e),this.on=function(){window.addEventListener("keydown",t._keydown),window.addEventListener("keyup",t._keyup)},this.off=function(){window.removeEventListener("keydown",t._keydown),window.removeEventListener("keyup",t._keyup)},this.getOctave=function(){return t.octave},this.getVelocity=function(){return t.velocity},this._keydown=function(e){if(!e.repeat){switch(e.key){case"z":return t._octaveDown();case"x":return t._octaveUp();case"c":return t._velocityDown();case"v":return t._velocityUp()}var n=en(e.key,t.octave);n&&t.onPress(n,e)}},this._keyup=function(e){var n=en(e.key,t.octave);n&&t.onRelease(n,e)},this._octaveDown=function(){t.octave>1&&t.octave--},this._octaveUp=function(){t.octave<7&&t.octave++},this._velocityDown=function(){},this._velocityUp=function(){},this.name="Keyboard";var r=mu(mu({},hu),n);return this.octave=r.octave,this.velocity=r.octave,this.onPress=r.onPress,this.onRelease=r.onRelease,this};function du(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}const Pu=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A4";du(this,e),this.getNote=function(){return t.note},this.getOctave=function(){return t.octave},this.getFrequency=function(){return t.frequency},this.get=function(e){switch(e){case"note":return t.note;case"octave":return t.octave;case"frequency":return t.frequency;default:return"".concat(t.note).concat(t.octave)}},this.set=function(e){var n="number"==typeof e?tn(e):e,r=Zt(n);if(!r)return console.error("Invalid note value");t.note=r.note,t.octave=r.octave,t._updateMidi(),t._updateFrequency()},this.setNote=function(e){t.note=e,t._updateMidi(),t._updateFrequency()},this.setOctave=function(e){t.octave=$t(e,0,9),t._updateMidi(),t._updateFrequency()},this.transpose=function(e){if(0!==e){var n=nn(t.get());t.set($t(n+e,12,120))}},this._updateFrequency=function(){return t.frequency=Yt("".concat(t.note).concat(t.octave))},this._updateMidi=function(){return t.midi=nn("".concat(t.note).concat(t.octave))},this.set(n)};return t})()}));